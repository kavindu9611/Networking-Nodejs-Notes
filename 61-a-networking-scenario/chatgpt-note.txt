1ï¸âƒ£ Why Does a Router Have a Switch Inside?

A home router is actually three devices in one:

1. Router (Layer 3)

Connects your home network to the internet.
Handles:

IP routing
NAT (Network Address Translation)
Firewall

2. Switch (Layer 2)

Connects devices inside your home network.
Handles:

MAC addresses
Forwarding frames within the LAN

3. Wireless Access Point (Layer 2)

Provides WiFi
Converts wired Ethernet signals into radio signals.

ğŸ”µ Why does the router contain a switch?

Because devices in your home must communicate locally:

Laptop â†’ Printer
Phone â†’ Smart TV
iPad â†’ MacBook
PC â†’ File server

This is all local network (LAN) communication, handled by the switch.

The switch allows communication inside your house without going to the internet.

2ï¸âƒ£ If You Only Use WiFi, Are You Using the Switch?

âœ”ï¸ YES â€” you are still using the switch.
Even if you never plug in a single cable.

Why?

Because WiFi only handles the radio part.

Inside the router:

WiFi â†’ Wireless Access Point  â†’ Internal Switch  â†’ Router (Internet)


So your phone, laptop, smart TV all still communicate through:

the internal Layer 2 switch

using MAC addresses

exactly the same as wired devices

WiFi â‰  bypass switch
WiFi = another doorway into the switch.

3ï¸âƒ£ Your Phone Sends a Request to Your Laptop (Same WiFi Network)
What if you instead send a request to a server in a foreign country?

Two scenarios:

âœ”ï¸ Scenario A â€” Devices on the same WiFi (same LAN)

Phone â†’ WiFi â†’ Switch â†’ Laptop

Never touches the internet.

Example:

You AirDrop a file from iPhone â†’ MacBook
The data NEVER leaves your house.

âœ”ï¸ Scenario B â€” Phone sends request to a server in another country

Example: Opening google.com from Sri Lanka.

Flow:

Phone
â†“
WiFi Access Point
â†“
Internal Switch
â†“
Router/NAT
â†“
Your ISP
â†“
Sri Lanka Internet Backbone
â†“
International Cable (SEA-ME-WE 5, etc.)
â†“
Google Data Center (India/Singapore)
â†“
Returns same path back


So yes â€” sending to another country means going through global internet infrastructure.

4ï¸âƒ£ Why It Is Important That iPad and MacBook Are on the Same LAN?

Because LAN communication (local network) is only possible if devices share the same network ID.

Example:

iPad: 192.168.1.10

MacBook: 192.168.1.20

Both on subnet: 255.255.255.0

They are on the same LAN.

âœ” What happens in same LAN?

iPad needs MacBookâ€™s MAC address:

Sends ARP request:
â€œWho has 192.168.1.20?â€

MacBook replies with its MAC

iPad sends data directly to that MAC via the switch

This is fast and local.

Uses:

Airdrop
LAN file sharing
Local multiplayer games
Printer sharing

Device discovery (mDNS, Bonjour)

âŒ If they are NOT on the same LAN:

Example:

iPad on 192.168.1.x

MacBook on 10.0.0.x

The ARP broadcast cannot reach the other device.
They cannot communicate directly.

The router must forward traffic â†’ slower, more complex.

5ï¸âƒ£ Putting It All Together â€” Real Example Scenarios
ğŸŸ¢ Scenario 1: Your phone talks to your laptop (same WiFi)

Data path:

Phone â†’ WiFi â†’ Internal Switch â†’ Laptop


âœ” Fast
âœ” Local
âœ” Private
âœ” No ISP involvement
âœ” Uses ARP + MAC addresses

ğŸ”µ Scenario 2: You browse a foreign server

Example: Visiting amazon.com

Data path:

Phone â†’ Router â†’ ISP â†’ Sri Lanka Internet Backbone â†’ Submarine Cable â†’ 
Regional Internet â†’ Amazon Data Center â†’ Back to You


Uses:

IP packets
Routing
NAT
Global BGP routing
This is WAN (Wide Area Network) communication.

ğŸ”´ Scenario 3: Phone and laptop NOT on same LAN

Phone on WiFi
Laptop on mobile hotspot

They cannot use ARP, cannot use MAC-level communication.

Data must pass through:

Phone â†’ ISP â†’ Internet â†’ Laptop's ISP â†’ Laptop


Even though theyâ€™re physically close, they communicate through the world.

ğŸŸ¡ Scenario 4: Why WiFi still uses a switch

Even with no cables:

Phone
â†“  (wireless signal)
Access Point
â†“  (converts radio â†’ frames)
Internal Switch
â†“
Router OR other LAN devices


So YES, WiFi devices still rely on the switch.

6ï¸âƒ£ Summary Table
Action	                  Same LAN?	        Switch Used?	          Internet Used?
Phone â†’ Laptop (AirDrop)	Yes	             âœ”ï¸ Yes	                      âŒ No
Phone â†’ Printer           	Yes	             âœ”ï¸ Yes                       âŒ No
Phone â†’ Google.com	        No	             âœ”ï¸ Yes	                      âœ”ï¸ Yes
Laptop â†’ Phone hotspot	    No	             âœ”ï¸ No (different LANs)     	âœ”ï¸ Yes
Two devices on WiFi	        Yes	            âœ”ï¸ Yes	                      âŒ No


ğŸ Final Summary You Can Save

A router contains a switch + router + WiFi access point.

WiFi ALWAYS uses the internal switch, even if you donâ€™t use cables.

Devices in same LAN can talk directly using MAC addresses + ARP.

Devices in different networks must go through ISPs and the internet.

iPad and MacBook must be on the same LAN for fast local communication.

Accessing foreign servers uses the global internet path (ISPs, submarine cables, routers).